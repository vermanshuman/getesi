<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://java.sun.com/jsf/core"
                template="/resources/tpl/Admin/EditBase.xhtml">
    <ui:param name="edit_title" value="#{msg.omiValuationDocuments}"/>
    <ui:param name="bean" value="#{corporateDataBean}"/>

    <ui:define name="viewname">
        <li>
            <p:link href="/Pages/Configuration/DatiAziendali.jsf">#{msg.omiValuationDocuments}</p:link>
        </li>
    </ui:define>

    <ui:define name="edit_body">
        <style>
            .ui-selectcheckboxmenu-multiple-container{
                min-height: 32px !important;
            }
        </style>
        <div align="center">
            <p:panelGrid columns="2" styleClass="ui-panelgrid-blank form-group" layout="grid"
                         columnClasses="ui-grid-col-3, ui-grid-col-9" style="width: 40%;">

                <span>#{msg.companyName}:</span>
                <p:inputText value="#{bean.companyName}" id="companyName" styleClass="input-width"
                             label="#{msg.companyName}"/>

                <span>#{msg.corporateFiscalCode}:</span>
                <p:inputText value="#{bean.fiscalCode}" id="fiscalCode"
                             styleClass="input-width" label="#{msg.corporateFiscalCode}"/>

                <span>#{msg.address}:</span>
                <p:inputText value="#{bean.address}" id="address"
                             styleClass="input-width" label="#{msg.address}"/>

            </p:panelGrid>

            <p:panelGrid columns="3" styleClass="ui-panelgrid-blank form-group" layout="grid"
                         columnClasses="ui-grid-col-3, ui-grid-col-5, ui-grid-col-4" style="width: 40%;">

                <span>#{msg.corporateTaxDomicile}:</span>

                <p:selectOneMenu id="company_province" value="#{bean.selectedProvinceId}"
                                 label="#{msg.omiLandValueProvince}" >
                    <p:ajax update="company_city" listener="#{bean.handleProvinceChange}"/>
                    <f:selectItems value="#{bean.provinces}"/>
                </p:selectOneMenu>

                <p:selectCheckboxMenu id="company_city" value="#{bean.selectedCity}"
                                      style="display: #{bean.foreignCountry ? 'none' : ''};"
                                      filter="true" filterMatchMode="startsWith"
                                      styleClass="full-width"
                                      label="#{msg.omiLandValueCity}"
                                      multiple="true" converter="#{bean.citySelectItemWrapperConverter}">
                    <f:selectItems value="#{bean.cities}" var="item" itemValue="#{item}" itemLabel="#{item.label}"/>
                    <p:ajax process="company_city"/>
                </p:selectCheckboxMenu>

            </p:panelGrid>
        </div>
    </ui:define>
</ui:composition>