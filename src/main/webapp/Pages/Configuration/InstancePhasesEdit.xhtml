<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                template="/resources/tpl/Admin/EditBase.xhtml">
    <ui:param name="edit_title" value="#{msg.instancePhasesEdit}"/>
    <ui:param name="bean" value="#{instancePhasesEditBean}"/>

    <ui:define name="edit_body">
        <script type="text/javascript">
            function toggleAdditionalStudyUID() {
                var selected = document.getElementById("showRequestTypesInpit").value;
                if (selected == "true") {
                    $(document.getElementById('requestLabel')).fadeIn();
                    $(document.getElementById('requests')).fadeIn();
                } else {
                    $(document.getElementById('requestLabel')).fadeOut();
                    $(document.getElementById('requests')).fadeOut();
                }
                var selectedDoc = document
                        .getElementById("showDocumentTypesInpit").value;
                if (selectedDoc == "true") {
                    $(document.getElementById('documentLabel')).fadeIn();
                    $(document.getElementById('documents')).fadeIn();
                } else {
                    $(document.getElementById('documentLabel')).fadeOut();
                    $(document.getElementById('documents')).fadeOut();
                }
            }
        </script>

        <h:inputHidden value="#{bean.showRequestTypes}"
                       id="showRequestTypesInpit"/>
        <h:inputHidden value="#{bean.showDocumentTypes}"
                       id="showDocumentTypesInpit"/>

        <p:fieldset legend="#{msg.general}">
            <p:panelGrid columns="2" styleClass="ui-panelgrid-blank form-group"
                         columnClasses="ui-grid-col-1,ui-grid-col-2" layout="grid">
                <span><span class="red">*</span>#{msg.instancePhasesPlace}:</span>
                <p:selectOneMenu id="place" value="#{bean.placeId}" styleClass="select-width"
                                 label="#{msg.instancePhasesPlace}">
                    <p:ajax listener="#{instancePhasesEditBean.plaseChange}"
                            update="showRequestTypesInpit, showDocumentTypesInpit, requests, documents"
                            oncomplete="toggleAdditionalStudyUID();"/>
                    <f:selectItems value="#{bean.places}"/>
                </p:selectOneMenu>

                <span><span class="red">*</span>#{msg.instancePhasesModel}:</span>
                <p:selectOneMenu id="model" value="#{bean.modelId}" styleClass="select-width"
                                 label="#{msg.instancePhasesModel}">
                    <f:selectItems value="#{bean.models}"/>
                </p:selectOneMenu>

				<span style="display: #{bean.showRequestTypes ? '' : 'none'};"
                      id="requestLabel"><span class="red">*</span>#{msg.instancePhasesRequestType}:</span>
                <p:selectOneMenu id="requests" value="#{bean.selectedRequestTypeId}" styleClass="select-width"
                                 label="#{msg.instancePhasesRequestType}"
                                 style="display: #{bean.showRequestTypes ? '' : 'none'};">
                    <f:selectItems value="#{bean.requestTypes}"/>
                </p:selectOneMenu>

				<span style="display: #{bean.showDocumentTypes ? '' : 'none'};"
                      id="documentLabel"><span class="red">*</span>#{msg.instancePhasesDocumentType}:</span>
                <p:selectOneMenu id="documents" styleClass="select-width"
                                 value="#{bean.selectedDocumentTypeId}"
                                 label="#{msg.instancePhasesDocumentType}"
                                 style="display: #{bean.showDocumentTypes ? '' : 'none'};">
                    <f:selectItems value="#{bean.documentTypes}"/>
                </p:selectOneMenu>
            </p:panelGrid>
        </p:fieldset>
    </ui:define>
</ui:composition>