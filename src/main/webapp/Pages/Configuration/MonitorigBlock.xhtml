<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://java.sun.com/jsf/html">
    <p:fieldset legend="#{header}" toggleable="true" toggleSpeed="500" collapsed="false">
        <p:panelGrid styleClass="ui-panelgrid-blank form-group" columns="2">
            <h:outputText value="#{msg.threadStatus}:"/>
            <p:column>
                <h:outputText value="#{msg.running}"
                              style="color: green;font-weight: bold;"
                              rendered="#{service.running and !service.paused}"/>
		<h:outputText value="#{msg.paused}"
                              style="color: blue;font-weight: bold;"
                              rendered="#{service.running and service.paused}"/>
                <h:outputText value="#{msg.stoped}"
                              style="color: red;font-weight: bold;"
                              rendered="#{!service.running}"/>
            </p:column>

            <h:outputText value="#{msg.threadLastRunTime}:"/>
            <p:column>
                <h:outputText converter="dateTimeConverterWithMinutes"
                              value="#{service.lastStartTime}"/>
                <h:outputText value="(#{bean.IPAddress})"/>
            </p:column>

        </p:panelGrid>
        <p:panel rendered="#{empty progressPanel ? false: service.showProgressPanel}" style="border: none" id="#{progressPanelId}">
            <p:progressBar widgetVar="pbAjax" ajax="true" value="#{service.processMonitor.progress}" style="height: 15px"
                           labelTemplate="{value}%  #{bean.processMonitor.statusStr}" styleClass="animated"
                           global="false"/>
        </p:panel>
        <div class="btn_line">
            <p:commandButton value="#{service.running and service.pausingSupported ? (service.paused ? msg.resume : msg.pause) : msg.start}"
                             widgetVar="#{startBtnWV}" icon="#{service.running and service.pausingSupported ? (service.paused ? 'pi pi-caret-right' : 'pi pi-pause') : 'pi pi-caret-right'}"
                             action="#{service.startOrPause}" update="outpanel" styleClass="p-mr-2 p-mb-2"
                             disabled="#{service.pausingSupported ? false : (service.running ? true : (empty blockService ? false : blockService))}"
                             onstart="#{empty onstartStartButton ? '' : onstartStartButton }"
                            />

            <p:commandButton value="#{msg.stop}"
                             widgetVar="#{stopBtnWV}" icon="ui-icon-stop"
                             action="#{service.stop}" update="outpanel"
                             disabled="#{!service.running}" styleClass="p-mr-2 p-mb-2"
                             onclick="PF('#{stopBtnWV}').disable();"
                             oncomplete="PF('#{startBtnWV}').enable();"/>
        </div>
    </p:fieldset>
    <br/>
</ui:composition>
