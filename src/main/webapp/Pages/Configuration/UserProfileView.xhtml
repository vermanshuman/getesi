<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                template="/resources/tpl/Admin/EditBase.xhtml">
    <ui:param name="edit_title" value="#{msg.editUser}"/>
    <ui:param name="bean" value="#{userProfileViewBean}"/>

    <ui:define name="edit_body">

        <style>
            .value .ui-selectonemenu .ui-selectonemenu-label {
                width: auto;
            }
        </style>

        <!-- The text and password here are to prevent FF from auto filling my login credentials because it ignores autocomplete="off"-->
        <input type="password" style="display: none"/>

        <p:tabView id="tabs">
            <p:tab title="#{msg.userProfileViewProfile}">
                <p:panelGrid columns="2" styleClass="ui-panelgrid-blank form-group"
                             columnClasses="ui-grid-col-1,ui-grid-col-3" layout="grid">

                    <span>#{msg.firstname}:</span>
                    <h:outputText value="#{bean.entity.firstName}"/>

                    <span>#{msg.lastname}:</span>
                    <h:outputText value="#{bean.entity.lastName}"/>

                    <span>#{msg.role}:</span>
                    <p:dataList id="role" value="#{bean.entity.roles}" var="item">
                        #{item.name}
                    </p:dataList>

                    <span>#{msg.login}:</span>
                    <h:outputText value="#{bean.entity.login}"/>

                    <span>#{msg.email}:</span>
                    <h:outputText value="#{bean.entity.email}"/>

                    <span>#{msg.fiscalCode}:</span>
                    <h:outputText value="#{bean.entity.fiscalCode}"/>
                </p:panelGrid>
            </p:tab>

            <p:tab title="#{msg.userProfileViewChangingPassword}">
                <p:panelGrid columns="2" styleClass="ui-panelgrid-blank form-group">

					<span><span class="red">*</span>
                        #{msg.userProfileViewOldPassword}:</span>
                    <p:password id="oldPassword" maxlength="14" autocomplete="false"
                                redisplay="true" feedback="false" value="#{bean.oldPwd}"/>

					<span><span class="red">*</span>
                        #{msg.userProfileViewNewPassword}:</span>
                    <p:password id="newPassword" maxlength="14" autocomplete="false"
                                redisplay="true" feedback="true" value="#{bean.pwd}"/>

					<span><span class="red">*</span>
                        #{msg.userProfileViewConfirmPassword}:</span>
                    <p:password id="confirmationPassword" maxlength="14"
                                redisplay="true" feedback="false" autocomplete="false"
                                value="#{bean.confirmPwd}"/>
                </p:panelGrid>
            </p:tab>
        </p:tabView>

    </ui:define>
</ui:composition>