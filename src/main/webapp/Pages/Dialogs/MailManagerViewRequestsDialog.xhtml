<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html">
	<p:dialog widgetVar="mailManagerViewRequestsDlg" modal="true" width="1200" styleClass="dialog-gray"
			  header="#{msg.mailManagerViewRequestsDialogHeader}">


        <p:panelGrid columns="1" styleClass="ui-panelgrid-blank form-group" id="estateFormalityArea">
	        <p:dataTable value="#{bean.entity.validRequests}" styleClass="simple-table" var="item"
	                     rendered="#{not empty bean.entity.validRequests}"  scrollable="true"
						 scrollHeight="300" style="margin-top:20px;">
	            <p:column styleClass="action_column">
	                <p:selectBooleanCheckbox value="#{item.selectedForMail}"/>
	            </p:column>
	            <p:column headerText="#{msg.databaseListRealEstateSubject}">
	                <h:outputText value="#{item.mailViewSubject}"/>
	            </p:column>
	            <p:column headerText="#{msg.requestListRequestType}">
	                <h:outputText value="#{item.requestTypeName}"/>
	            </p:column>
	            <p:column headerText="#{msg.requestListService}">
	                <h:outputText value="#{item.service ne null ? item.serviceName : (item.multipleServices ne null ? item.multipleServiceNames : '')}"/>
	            </p:column>
	            <p:column headerText="#{msg.requestListCorservatoryName}">
	                <h:outputText value="#{item.aggregationLandCharRegNameOrCity}"/>
	            </p:column>
	            <p:column headerText="#{msg.requestState}">
	                <h:outputText value="#{item.stateDescription}"/>
	            </p:column>
	        </p:dataTable>
        </p:panelGrid>

		<div class="btn_line">
			<p:commandButton value="#{msg.confirm}" update="@form"
							 style="background-color: #00CC52 !important;margin-right: 15px;width: 100px;"
			                 action="#{bean.openNewMailToManager}"/>
			<p:commandButton value="#{msg.cancel}" oncomplete="PF('mailManagerViewRequestsDlg').hide();"
							 style="background-color: #F3362B !important; width: 100px;" />
		</div>
		<style>
			.ui-datatable-scrollable-theadclone {
				display: none !important;
			}
			th.action_column {
				width: 30px !important;
			}
			td.action_column {
				width: 59px !important;
			}
			.ui-datatable-scrollable-header th:nth-child(2) {
				width: 233px !important;
			}
			.ui-datatable-scrollable-body td:nth-child(2) {
				width: 262px !important;
			}
			.ui-datatable-scrollable-body td:nth-child(3), .ui-datatable-scrollable-body td:nth-child(4) {
				width: 203px !important;
			}
			.ui-datatable-scrollable-body td:nth-child(5) {
				width: 204px !important;
			}
		</style>

	</p:dialog>
</ui:composition>