<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://xmlns.jcp.org/jsf/core">
    <p:dialog widgetVar="searchFormalitiesWV" id="searchFormalities"
              style="max-width: 900px; height: auto !important; min-height: 300px !important;
                   max-height: 700px !important; margin-top: 75px !important" draggable="false"
              modal="true" resizable="false" effect="SLIDE" position="top" onShow="updateDialog()">
        <p:ajax event="close" update="searchFormalities" resetValues="true" />
        <p:remoteCommand name="updateDialog" update="dialogPanel"/>
        <p:scrollPanel mode="native" style="width:870px; min-height: 300px; max-height: 600px" id="dialogPanel">
            <p:panelGrid id="inputFormalityData" columns="2" styleClass="ui-panelgrid-blank form-group"
                         columnClasses="ui-grid-col-4, ui-grid-col-6" layout="grid">

                <h:outputText value="#{msg.estateFormalityNumRG}"/>
                <p:inputText value="#{bean.searchFormalityRG}" styleClass="input-width"/>

                <h:outputText value="#{msg.estateFormalityNumRP}"/>
                <p:inputText value="#{bean.searchFormalityRP}" styleClass="input-width"/>

                <h:outputText value="#{msg.estateFormalityDate}:"/>
                <p:calendar value="#{bean.searchFormalityDate}" styleClass="calendar-width"
                            pattern="dd/MM/yyyy" mask="true"/>

                <h:outputText value="#{msg.estateFormalityConservatory}"/>
                <p:selectOneMenu styleClass="input-width" value="#{bean.searchFormalityAggregationId}">
                    <f:selectItems value="#{bean.landAggregations}"/>
                </p:selectOneMenu>
                <p:commandButton update="searchFormalityTab" value="#{msg.estateSituationViewSearch}"
                                 style="margin-top: 8px!important; margin-left: 2%;
                                 margin-bottom: 1%; width: 100px; height: 31px"
                                 action="#{bean.searchFormalitiesForAssociation}"/>

            </p:panelGrid>
            <p:dataTable value="#{bean.searchedFormalityList}" selection="#{bean.selectedSearchedFormality}"
                         styleClass="simple-table estate-situation-edit-select"
                         var="form" id="searchFormalityTab"
                         rowKey="#{form.id}" rowSelectMode="checkbox"
                         paginator="true" paginatorAlwaysVisible="false" rows="5"
                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                         rowsPerPageTemplate="5, 20, 50">
                <p:column styleClass="action_column" selectionMode="#{selectionMode}"/>
                <p:column headerText="#{msg.estateFormalityDate}" width="12%">
                    <h:outputText value="#{form.presentationDate}" converter="dateTimeConverter"/>
                </p:column>
                <p:column headerText="#{msg.estateFormalityNumRG}" width="10%">
                    <h:outputText value="#{form.generalRegister}"/>
                </p:column>
                <p:column headerText="#{msg.estateFormalityNumRP}" width="10%">
                    <h:outputText value="#{form.particularRegister}"/>
                </p:column>
                <p:column headerText="#{msg.estateFormalityTypeAct}">
                    <h:outputText id="estate" value="#{form.reclamePropertyService}"/>
                </p:column>
            </p:dataTable>
            <p:commandButton value="#{msg.estateSituationViewAssociate}"
                             oncomplete="#{onCompleteSaveAction};PF('searchFormalitiesWV').hide();"
                             style="margin: 10px; width: 100px; height: 31px; float:right"/>
        </p:scrollPanel>

    </p:dialog>
</ui:composition>
