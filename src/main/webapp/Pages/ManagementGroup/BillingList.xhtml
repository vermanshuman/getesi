<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
		"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:ui="http://java.sun.com/jsf/facelets"
	  xmlns:ff="http://readytech.com/functions"
	  xmlns:h="http://java.sun.com/jsf/html"
	  xmlns:f="http://java.sun.com/jsf/core"
	  xmlns:p="http://primefaces.org/ui"
	  xmlns:c="http://java.sun.com/jsp/jstl/core">
<ui:composition template="/resources/tpl/Admin/LazyListTabBase.xhtml">
	<ui:param name="bean" value="#{billingListBean}" />
	<ui:param name="renderTitle" value="false" />
	<ui:param name="renderMenu" value="false" />
	<ui:param name="centerPartStyleClass" value="false" />
	<ui:define name="list_body">
		<style>
			nav {
				position: relative;
				z-index: 1;
				white-space: nowrap;
			}

			nav a {
				position: relative;
				display: inline-block;
				color: inherit;
				text-decoration: none;
				margin: 0 -4px;
				width: 210px;
				font-family: Roboto;
				font-size: 18px;
			}

			nav a::before, main {
				border: 1px solid #dddfe2;
			}

			nav a::before {
				content: ''; /* To generate the box */
				font-size: 18px;
				position: absolute;
				min-height: 50px;
				height: 50px;
				top: 0;
				right: -10px;
				bottom: .5em;
				left: 0;
				z-index: -1;
				border-bottom: none;
				border-radius: 7px 7px 0 0;
				background: #f6f7f9;
				box-shadow: 0 2px hsla(0, 0%, 100%, .5) inset;
				transform: perspective(20px) rotateX(3deg);
				transform-origin: bottom;
			}

			nav.left a {
				padding: 1em 1em 1em 0.7em;
			}

			nav.left a::before {
				transform-origin: bottom left;
			}

			nav.right a {
				padding: 1.5em 1em 1em 2em;
			}

			nav.right a::before {
				transform-origin: bottom right;
			}

			nav a.selected {
				z-index: 2;
			}

			nav a.selected::before {
				border-bottom: none;
				height: 51px;
			}

			nav a.selected::before, main {
				background: #fff;
			}

			main {
				display: block;
				margin: -7px 0 30px -15px;
				padding: 1em;
				border-radius: 3px;
				padding-left: 0px;
				padding-top: 0px;
			}

			main .ui-panelgrid .ui-grid-responsive .ui-panelgrid-cell {
				padding-top: 15px;
				padding-bottom: 0;
			}

			.circle {
				top: 56%;
				right: 20px;
				margin-top: -10px;
				position: absolute !important;
				overflow: hidden;
				cursor: pointer;
				display: block;
				height: 16px;
				width: 16px;
				line-height: 1;
				-moz-border-radius: 15px;
				border-radius: 8px;
				background-color: silver;
				color: white;
				text-align: center;
				font-size: 15px;
			}

			.react-grid-layout {
				position: relative;
				transition: height .2s ease;
			}

			.react-grid-item.cssTransforms {
				transition-property: transform;
			}

			.ricavi_outer_div {
				width: 100%;
				height: 100%;
				border-radius: 5px;
				overflow: hidden;
				box-shadow: rgb(4 26 55/ 16%) 0px 1px 2.94px 0.06px;
				background: rgb(129, 199, 132);
				border: 0px;
			}

			@media screen and (min-width: 1400px) .inner_div {
				opacity: 0.15;
			}

				@media screen and (min-width: 1200px) .inner_div {
					opacity:0.1;
				}

					.inner_div {
						color: rgb(255, 255, 255);
						opacity: 0.2;
						font-size: 74px;
						bottom: -10px;
						left: 0px;
						overflow: hidden;
					}

					.box_header {
						position: absolute;
						top: -32px;
						left: 10px;
						right: 45px;
						font-size: 18px;
						text-transform: uppercase;
						white-space: nowrap;
						overflow: hidden;
						text-overflow: ellipsis;
						color: rgb(255, 255, 255);
					}

					.cost {
						bottom: 20px;
						color: rgb(255, 255, 255);
						font-size: 35px;
						left: 5px;
						right: 5px;
						text-align: center;
						font-weight: bold;
						white-space: nowrap;
						overflow: hidden;
						text-overflow: ellipsis;
					}

					.list_icon {
						position: absolute;
						top: -32px;
						right: 7px;
						cursor: pointer;
					}

					.costi_outer_div {
						width: 100%;
						height: 100%;
						border-radius: 5px;
						overflow: hidden;
						box-shadow: rgb(4 26 55/ 16%) 0px 1px 2.94px 0.06px;
						background: rgb(251, 183, 70);
						border: 0px;
					}

					.incassi_outer_div {
						width: 100%;
						height: 100%;
						border-radius: 5px;
						overflow: hidden;
						box-shadow: rgb(4 26 55/ 16%) 0px 1px 2.94px 0.06px;
						background: rgb(91, 175, 184);
						border: 0px;
					}

					.tributi_outer_div {
						width: 100%;
						height: 100%;
						border-radius: 5px;
						overflow: hidden;
						box-shadow: rgb(4 26 55/ 16%) 0px 1px 2.94px 0.06px;
						background: rgb(100, 181, 246);
						border: 0px;
					}

					.resizable_icon {
						position: absolute;
						width: 20px;
						height: 20px;
						bottom: 0;
						right: 0;
						background:
								url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pg08IS0tIEdlbmVyYXRvcjogQWRvYmUgRmlyZXdvcmtzIENTNiwgRXhwb3J0IFNWRyBFeHRlbnNpb24gYnkgQWFyb24gQmVhbGwgKGh0dHA6Ly9maXJld29ya3MuYWJlYWxsLmNvbSkgLiBWZXJzaW9uOiAwLjYuMSAgLS0+DTwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DTxzdmcgaWQ9IlVudGl0bGVkLVBhZ2UlMjAxIiB2aWV3Qm94PSIwIDAgNiA2IiBzdHlsZT0iYmFja2dyb3VuZC1jb2xvcjojZmZmZmZmMDAiIHZlcnNpb249IjEuMSINCXhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbDpzcGFjZT0icHJlc2VydmUiDQl4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjZweCIgaGVpZ2h0PSI2cHgiDT4NCTxnIG9wYWNpdHk9IjAuMzAyIj4NCQk8cGF0aCBkPSJNIDYgNiBMIDAgNiBMIDAgNC4yIEwgNCA0LjIgTCA0LjIgNC4yIEwgNC4yIDAgTCA2IDAgTCA2IDYgTCA2IDYgWiIgZmlsbD0iIzAwMDAwMCIvPg0JPC9nPg08L3N2Zz4=);
						background-position: 100% 100%;
						padding: 0 3px 3px 0;
						background-repeat: no-repeat;
						background-origin: content-box;
						box-sizing: border-box;
						cursor: se-resize;
					}

					.wHMuN {
						width: 100%;
						height: 100%;
						border-radius: 5px;
						overflow: hidden;
						box-shadow: rgb(4 26 55 / 16%) 0px 1px 2.94px 0.06px;
						background: rgb(255, 255, 255);
						border: 1px solid rgb(221, 221, 221);
					}

					.trimester {
						margin-top: 7px;
						margin-left: 10px;
						right: 45px;
						font-size: 18px;
						text-transform: uppercase;
						white-space: nowrap;
						overflow: hidden;
						text-overflow: ellipsis;
						color: rgb(110, 122, 129);
					}

					.justifyContent-center-0-26 {
						justify-content: center;
					}

					.alignContent-center-0-17 {
						align-content: center;
					}

					.alignItems-stretch-0-14 {
						align-items: stretch;
					}

					.wrap-nowrap-0-7 {
						flex-wrap: nowrap;
					}

					.direction-column-0-5 {
						flex-direction: column;
					}

					.fullWidth-0-2 {
						flex: 1 1 0;
						width: 100%;
					}

					.flexBox-0-0 {
						display: flex;
					}

					.month_div {
						margin-left: 10px;
						margin-right: 10px;
						border-top: 1px solid rgb(221, 221, 221);
						padding-top: 5px;
						padding-bottom: 5px;
					}

					.month_outer {
						float: left;
						width: 50%;
					}

					.month_inner {
						color: rgb(110, 122, 129);
						font-size: 16px;
						width: auto;
						line-height: 25px;
						text-align: left;
						font-weight: 100;
						white-space: nowrap;
						text-overflow: ellipsis;
						overflow: hidden;
					}

					.cost_outer {
						float: right;
					}

					.cost_inner {
						color: rgb(110, 122, 129);
						font-size: 16px;
						width: auto;
						line-height: 25px;
						text-align: right;
						font-weight: 100;
						white-space: nowrap;
						text-overflow: ellipsis;
						overflow: hidden;
					}

					.cost_total {
						color: rgb(110, 122, 129);
						bottom: 20px;
						font-size: 2.5vw;
						left: 5px;
						right: 5px;
						text-align: center;
						font-weight: bold;
						white-space: nowrap;
						overflow: hidden;
						text-overflow: ellipsis;
					}

					.list_icon_trimester{
						font-size: 17px;
						color: rgb(110, 122, 129);
						float: right;
						margin-top: 7px;
						margin-right: 5px;
					}

					.inner_div img {
						position: absolute;
						height: 100px;
						margin-top: 22px;
						margin-left: -27px;
					}

					.ricavi-img, .incassi-bianco-img {
						position: absolute;
						margin-top: 24px;
						height: 76px;
						width: 100px;
						background-size: 100px;
						background-repeat: no-repeat;
					}
					.ricavi-img {
						background-image: url('../../resources/images/ricavi.png') !important;
						background-position-x: -20px;
					}

					.incassi-bianco-img {
						background-image: url('../../resources/images/incassi_bianco.png') !important;
						background-position-x: -20px;
						background-position-y: 10px;
					}

					.column_outer {
						display: flex;
						gap: 10px;
						width: 100%;
					}

					.column_outer .month_inner {
						width: 25%;
					}

					.color-white * {
						color: #fff;
					}

					.dot {
						height: 12px;
						width: 12px !important;
						background-color: #bbb !important;
						border-radius: 50% !important;
						display: inline-block;
						margin-left: 5px !important;
						margin-top: 5px !important;
					}

					.dot.selected {
						background-color: #fff !important;
					}

					@media screen and (min-width: 1400px) {
						.cost_total {
							font-size: 35px;
						}
					}
					
					.orange-button{
						background: orange !important;
					}
					
					.green-button {
						background: #00CC52 !important;
					}
					
					.red-button {
						background: red !important;
					}
					
					body .ui-button.ui-button-warning-icon, body .ui-splitbutton.ui-button-warning-icon > .ui-button {
					    background: #fb6e51;
					    color: #FFFFFF;
					    border: 1px solid #fb6e51 !important;
					}
					
					body .ui-button.ui-button-warning-icon.ui-state-focus, body .ui-splitbutton.ui-button-warning-icon > .ui-button.ui-state-focus {
						box-shadow: 0 0 0 0.2rem orange !important;
					}
					
					body .ui-button.ui-button-warning-icon.ui-state-active, body .ui-splitbutton.ui-button-warning-icon.ui-state-active > .ui-button.ui-state-active {
						background-color: #ff8b00 !important;
					    color: #FFFFFF;
					    border: 1px solid #ff8b00 !important;
					}
					
					#table_div_content {
						border: none !important; 
						padding-top:0px !important; 
						padding-bottom:0px !important;
					}
					
					body .ui-datatable .ui-datatable-data > tr > td {
						border-top: none !important;
						border-left: none !important;
						border-right: none !important;
    					border-bottom: 1px solid rgba(0, 0, 0, 0.08);
    				}
    				
    				.ui-datatable thead th, .ui-datatable tfoot td {
    					text-align: left !important;
					}
					
					.ui-datatable:not(.borderless) thead th, .ui-datatable tbody td, .ui-datatable tfoot td, .ui-datatable tfoot th {
					    border-width: 1px!important;
					    border-top: none !important;
						border-left: none !important;
						border-right: none !important;
    					 
					}
					
					#settingPanel {
					    position: absolute;
					    z-index: 1;
					    margin-top: 40px;
					    max-width: 460px;
					    right: 50px;
					    border: 1px solid #547ac4;
					}
					
					.input-width-100 {
						width: 100%;
					}
					
					.calender-filled input, .select-checkbox, .select-one-menu {
		                border: 1px solid #009900 !important;
		            }
		            body .ui-inputfield.ui-state-focus {
		                box-shadow: 0 0 0 0.2em #57c279 !important;
		            }
		
		            body .ui-selectonemenu.ui-state-focus:not(.ui-state-error) {
		                box-shadow: 0 0 0 0.2em #57c279 !important;
		            }
            
					#settingPanel input {
						background-color: #F0F3F5 !important;
						border: none !important;;
						border-radius: 7px !important;
						min-height: 36px;
					}
					
					.ui-calendar:not(#currentDay) .ui-datepicker-trigger {
						color: #003871 !important;;
					}
					
					body .ui-calendar:not(#currentDay) .ui-button {
						background-color: transparent !important;
						margin-left: -37px;
					}
					
					#settingPanel .ui-selectonemenu {
						background-color: #F0F3F5 !important;
						border: none !important;
						border-radius: 7px !important;
					}
					
					#settingPanel .ui-selectonemenu-label {
						background-color: #F0F3F5 !important;
						border-radius: 7px !important;
						color: #003871;
						margin-top: 4px;
						margin-bottom: 4px;
					}
					
					#filterInvoiceNumber {
					    width: 200px;
					    border: 1px solid #a8acb1 !important;
					}
					
					.ui-selectonemenu {
						border: 1px solid #a8acb1 !important;
					}
					
					#filterDateFrom_input {
						width: 100%;
					}
					
					#filterDateTo_input {
						width: 100%;
					}
					
					.search-panel-btns {
						gap: 30px;
						display: flex;
						justify-content: center;
					}
		</style>
		<script src='https://kit.fontawesome.com/a076d05399.js' crossorigin='anonymous'></script>
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"/>
		<div style="margin-left: 20px;">
			<nav class="left" style="margin-left:20px;">
				<a href="#" id="tab1" class="tab selected">#{msg.billingListDashboard}</a>
				<a href="#" id="tab2" class="tab">#{msg.billingListInvoices}</a>
				<a href="#" id="tab3" class="tab">#{msg.billingListCreditNotes}</a>
				<a href="#" id="tab4" class="tab">#{msg.billingListSubjectsToBeInvoiced}</a>
			</nav>

			<main>
				<div id="content_tab1" class="hide">
					<p:panelGrid columns="4" styleClass="ui-panelgrid-blank form-group" cellpadding="3" cellspacing="0"
								 columnClasses="ui-grid-col-4,ui-grid-col-6,ui-grid-col-1,ui-grid-col-1" layout="grid">
						<p:commandButton value="#{ff:upper(msg.billingListUpdate)}" />

						<p:outputLabel></p:outputLabel>

						<p:selectOneMenu id="client" value="#{bean.selectedClientId}" style="width: calc( 100% - 5px);"
										 styleClass="#{bean.selectedClientId ne null ? 'select-one-menu' : ''}">
							<f:selectItem itemLabel="#{ff:upper(msg.billingListClient)}" itemValue="#{null}" noSelectionOption="true" />
							<f:selectItems value="#{bean.clients}" />
							<p:ajax event="itemSelect" update="@this" />
						</p:selectOneMenu>

						<p:selectOneMenu id="year" value="#{bean.selectedYear}" label="#{msg.requestClient}" style="width: calc( 100% - 5px);"
										 styleClass="#{bean.selectedYear ne null ? 'select-one-menu' : ''}">
							<f:selectItem itemLabel="#{ff:upper(msg.billingListYear)}" itemValue="#{null}" noSelectionOption="true" />
							<f:selectItems value="#{bean.years}" />
							<p:ajax event="itemSelect" update="@this" />
						</p:selectOneMenu>
					</p:panelGrid>

					<div class="react-grid-layout" style="height: 600px;">
						<p:panelGrid columns="4" styleClass="ui-panelgrid-blank form-group"
									 cellpadding="3" cellspacing="0"
									 columnClasses="ui-grid-col-3,ui-grid-col-3,ui-grid-col-3,ui-grid-col-3"
									 layout="grid">
							<div class="react-grid-item react-draggable cssTransforms react-resizable-hide react-resizable"
								 style="width: calc(25% - 9px); height: 100px; line-height: 100px; position: absolute; transform: translate(-4px, 0px); box-sizing: border-box;">
								<div>
									<div class="ricavi_outer_div">
										<div class="inner_div">
											<i class="ricavi-img"></i>
										</div>
										<div color="#fff" class="box_header">#{msg.billingListRevenues}</div>
										<div class="cost">0 €</div>
									</div>

									<div class="list_icon"
										 style="font-size: 17px; color: rgb(255, 255, 255);" title="">
										<i class="fa fa-fw fa-list"
										   style="font-size: inherit;"></i>
									</div>

								</div>
								<span class="resizable_icon"></span>
							</div>

							<div class="react-grid-item react-draggable cssTransforms react-resizable-hide react-resizable"
								 style="width: calc(25% - 9px); height: 100px; line-height: 100px; position: absolute; transform: translate(calc(100% + 6px), 0px); box-sizing: border-box;">
								<div>
									<div class="costi_outer_div">
										<div class="inner_div">
											<i class="ricavi-img"></i>
										</div>
										<div color="#fff" class=" box_header">#{msg.billingListCosts}</div>
										<div class="cost">0 €</div>
									</div>
									<div class="list_icon"
										 style="font-size: 17px; color: rgb(255, 255, 255);" title="">
										<i class="fa fa-fw fa-list"
										   style="font-size: inherit;"></i>
									</div>

								</div>
								<span class="resizable_icon"></span>
							</div>

							<div class="react-grid-item react-draggable cssTransforms react-resizable-hide react-resizable"
								 style="width: calc(25% - 9px); height: 100px; line-height: 100px; position: absolute; transform: translate(calc(200% + 16px), 0px); box-sizing: border-box;">
								<div>
									<div class="incassi_outer_div">
										<div class="inner_div">
											<i class="incassi-bianco-img"></i>
										</div>
										<div color="#fff" class=" box_header">#{msg.billingListTributes}</div>
										<div class="cost">0 €</div>
									</div>

									<div class="list_icon"
										 style="font-size: 17px; color: rgb(255, 255, 255);" title="">
										<i class="fa fa-fw fa-list"
										   style="font-size: inherit;"></i>
									</div>

								</div>
								<span class="resizable_icon"></span>
							</div>

							<div class="react-grid-item react-draggable cssTransforms react-resizable-hide react-resizable"
								 style="width: calc(25% - 9px); height: 100px; line-height: 100px; position: absolute; transform: translate(calc(300% + 26px), 0px); box-sizing: border-box;">
								<div>
									<div class="tributi_outer_div">
										<div class="inner_div" style="position: absolute;">
											<i class="fa fa-university"
											   style="position: relative; left: -9px; bottom: -18px; font-size: 80px;"></i>
										</div>
										<div color="#fff" class=" box_header"><!-- #{msg.billingListTributes} --></div>
										<div class="cost">&nbsp;</div>
									</div>

									<div class="list_icon"
										 style="font-size: 17px; color: rgb(255, 255, 255);" title="">
										<i class="fa fa-fw fa-list11"
										   style="font-size: inherit;"></i>
									</div>

								</div>
								<span class="resizable_icon"></span>
							</div>
						</p:panelGrid>

						<div class="layout-dashboard" style="max-width: 98%;">
							<h:panelGroup id="slides1" layout="block" styleClass="p-grid" style="margin-top: 7% !important;height: 210px;">
								<div style="width: calc(25% - 8px);position: absolute;transform: translate(16px, 0px);">
									<div class="react-grid-item react-draggable cssTransforms react-resizable-hide react-resizable"
										 style="height: 210px; border-radius: 5px;">
										<div class="sc-hcnlBt wHMuN">
											<div>
												<div color="#6e7a81" class="trimester"
													 style="float: left;">#{msg.billingListFirstSemestre}</div>
												<div class="list_icon_trimester">
													<i class="fa fa-fw fa-list11" style="font-size: inherit;"></i>
												</div>
											</div>

											<div style="margin-top: 38px;">
												<div class="flexBox-0-0 fullWidth-0-2 wrap-nowrap-0-7
															direction-column-0-5 justifyContent-center-0-26 alignItems-stretch-0-14 alignContent-center-0-17">
													<div class="month_div" style="border: 0px;">
														<div class="month_outer">
															<div class="month_inner">#{msg.january} - #{msg.february}</div>
														</div>
														<div class="cost_outer">
															<div class="cost_inner">
																<h:outputText value="#{bean.monthJanFebAmount}">
																	<f:convertNumber pattern="#0.00" />
																</h:outputText> €
															</div>
														</div>
													</div>
													<div class="month_div">
														<div class="month_outer">
															<div class="month_inner">#{msg.march} - #{msg.april}</div>
														</div>
														<div class="cost_outer">
															<div class="cost_inner">
																<h:outputText value="#{bean.monthMarAprAmount}">
																	<f:convertNumber pattern="#0.00" />
																</h:outputText> €
															</div>
														</div>
													</div>
													<div class="month_div">
														<div class="month_outer">
															<div class="month_inner">#{msg.may} - #{msg.june}</div>
														</div>
														<div class="cost_outer">
															<div class="cost_inner">
																<h:outputText value="#{bean.monthMayJunAmount}">
																	<f:convertNumber pattern="#0.00" />
																</h:outputText> €
															</div>
														</div>
													</div>
												</div>
												<div class="cost_total">
													<h:outputText value="#{bean.monthJanFebAmount+bean.monthMarAprAmount+bean.monthMayJunAmount}">
														<f:convertNumber pattern="#0.00" />
													</h:outputText> €
												</div>
											</div>
										</div>
									</div>
								</div>

								<div style="width: calc(25% - 8px);position: absolute;transform: translate(calc(100% + 26px), 0px);">
									<div class="react-grid-item react-draggable cssTransforms react-resizable-hide react-resizable"
										 style="height: 210px; border-radius: 5px;">
										<div class="sc-hcnlBt wHMuN">
											<div>
												<div color="#6e7a81" class="trimester"
													 style="float: left;">#{msg.billingListSecondSemestre}</div>
												<div class="list_icon_trimester">
													<i class="fa fa-fw fa-list11" style="font-size: inherit;"></i>
												</div>
											</div>

											<div style="margin-top: 38px;">
												<div class="flexBox-0-0 fullWidth-0-2 wrap-nowrap-0-7
															direction-column-0-5 justifyContent-center-0-26 alignItems-stretch-0-14 alignContent-center-0-17">
													<div class="month_div" style="border: 0px;">
														<div class="month_outer">
															<div class="month_inner">#{msg.july} - #{msg.august}</div>
														</div>
														<div class="cost_outer">
															<div class="cost_inner">
																<h:outputText value="#{bean.monthJulAugAmount}">
																	<f:convertNumber pattern="#0.00" />
																</h:outputText> €
															</div>
														</div>
													</div>
													<div class="month_div">
														<div class="month_outer">
															<div class="month_inner">#{msg.september} - #{msg.october}</div>
														</div>
														<div class="cost_outer">
															<div class="cost_inner">
																<h:outputText value="#{bean.monthSepOctAmount}">
																	<f:convertNumber pattern="#0.00" />
																</h:outputText> €
															</div>
														</div>
													</div>
													<div class="month_div">
														<div class="month_outer">
															<div class="month_inner">#{msg.november} - #{msg.december}</div>
														</div>
														<div class="cost_outer">
															<div class="cost_inner">
																<h:outputText value="#{bean.monthNovDecAmount}">
																	<f:convertNumber pattern="#0.00" />
																</h:outputText> €
															</div>
														</div>
													</div>
												</div>
												<div class="cost_total">
													<h:outputText value="#{bean.monthJulAugAmount+bean.monthSepOctAmount+bean.monthNovDecAmount}">
														<f:convertNumber pattern="#0.00" />
													</h:outputText> €
												</div>
											</div>
										</div>
									</div>
								</div>
							</h:panelGroup>
						</div>

						<div class="layout-dashboard" style="max-width: 98%;">
							<h:panelGroup id="turnoverPerMonthWidget" layout="block" styleClass="p-grid" style="margin-top: 1% !important;">
								<div style="width: calc(25% - 8px);position: absolute;transform: translate(16px, 0px);">
									<div class="react-grid-item react-draggable cssTransforms react-resizable-hide react-resizable"
										 style="height: 210px; border-radius: 5px;">
										<div class="sc-hcnlBt wHMuN color-white" style="background-color: #81C784;">
											<div>
												<div color="#6e7a81" class="trimester"
													 style="float: left;">#{msg.subjectTurnoverPerMonth}</div>
												<div class="list_icon_trimester">
													<i class="fa fa-fw fa-list11" style="font-size: inherit;"></i>
												</div>
											</div>

											<div style="margin-top: 38px;">
												<h:panelGroup layout="block" styleClass="flexBox-0-0 fullWidth-0-2 wrap-nowrap-0-7
															direction-column-0-5 justifyContent-center-0-26 alignItems-stretch-0-14 alignContent-center-0-17">
													<div class="month_div" style="border: 0px;border-bottom: 1px solid rgb(221, 221, 221);">
														<div class="month_outer column_outer">
															<div class="month_inner"></div>
															<div class="month_inner">Imp.</div>
															<div class="month_inner">Non Imp.</div>
															<div class="month_inner">Tot.</div>
														</div>
													</div>
													<c:forEach var="item" items="#{bean.getTestTurnoverPerMonth()}" varStatus="loop">
														<c:if test="${loop.index ge bean.quadrimesterStartIdx and loop.index le bean.quadrimesterEndIdx}">
															<div class="month_div" style="border: 0px;padding-bottom: 0px;#{(loop.index eq 0 or loop.index eq 4 or loop.index eq 8) ? '' : 'padding-top: 0px;'}">
																<div class="month_outer column_outer">
																	<div class="month_inner">#{bean.months[loop.index]}</div>
																	<div class="month_inner">10.00</div>
																	<div class="month_inner">5.00</div>
																	<div class="month_inner">15.00</div>
																</div>
															</div>
														</c:if>
													</c:forEach>
												</h:panelGroup>
												<div style="padding: 5px 20px;">
													<div style="float: right;">
														<p:commandButton icon="test" update="turnoverPerMonthWidget" action="#{bean.setQuadrimesterIdx(0, 3)}" styleClass="dot #{bean.quadrimesterStartIdx eq 0 ? 'selected' : ''}"/>
														<p:commandButton icon="test" update="turnoverPerMonthWidget" action="#{bean.setQuadrimesterIdx(4, 7)}" styleClass="dot #{bean.quadrimesterStartIdx eq 4 ? 'selected' : ''}"/>
														<p:commandButton icon="test" update="turnoverPerMonthWidget" action="#{bean.setQuadrimesterIdx(8, 11)}" styleClass="dot #{bean.quadrimesterStartIdx eq 8 ? 'selected' : ''}"/>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</h:panelGroup>
							<h:panelGroup id="turnoverPerCustomerWidget" layout="block" styleClass="p-grid" style="margin-top: 0px !important;margin-left: calc(25% + 4px);">
								<div style="width: calc(25% - 8px);position: absolute;transform: translate(16px, 0px);">
									<div class="react-grid-item react-draggable cssTransforms react-resizable-hide react-resizable"
										 style="height: 210px; border-radius: 5px;">
										<div class="sc-hcnlBt wHMuN color-white" style="background-color: #FAB544;">
											<div>
												<div color="#6e7a81" class="trimester"
													 style="float: left;">#{msg.turnoverPerCustomer}</div>
												<div class="list_icon_trimester">
													<i class="fa fa-fw fa-list11" style="font-size: inherit;"></i>
												</div>
											</div>

											<div style="margin-top: 38px;">
												<h:panelGroup layout="block" styleClass="flexBox-0-0 fullWidth-0-2 wrap-nowrap-0-7
															direction-column-0-5 justifyContent-center-0-26 alignItems-stretch-0-14 alignContent-center-0-17">
													<div class="month_div" style="border: 0px;border-bottom: 1px solid rgb(221, 221, 221);">
														<div class="month_outer column_outer">
															<div class="month_inner"></div>
															<div class="month_inner">Imp.</div>
															<div class="month_inner">Non Imp.</div>
															<div class="month_inner">Tot.</div>
														</div>
													</div>
													<c:forEach var="item" items="#{bean.getTestTurnoverPerCustomer()}" varStatus="loop">
														<c:if test="${loop.index ge bean.quadrimesterStartIdx and loop.index le bean.quadrimesterEndIdx}">
															<div class="month_div" style="border: 0px;padding-bottom: 0px;#{(loop.index eq 0 or loop.index eq 4 or loop.index eq 8) ? '' : 'padding-top: 0px;'}">
																<div class="month_outer column_outer">
																	<div class="month_inner">#{item}</div>
																	<div class="month_inner">10.00</div>
																	<div class="month_inner">15.00</div>
																	<div class="month_inner">25.00</div>
																</div>
															</div>
														</c:if>
													</c:forEach>
												</h:panelGroup>
												<div style="padding: 5px 20px;">
													<div style="float: right;">
														<p:commandButton icon="test" update="turnoverPerCustomerWidget" action="#{bean.setQuadrimesterIdx(0, 3)}" styleClass="dot #{bean.quadrimesterStartIdx eq 0 ? 'selected' : ''}"/>
														<p:commandButton icon="test" update="turnoverPerCustomerWidget" action="#{bean.setQuadrimesterIdx(4, 7)}" styleClass="dot #{bean.quadrimesterStartIdx eq 4 ? 'selected' : ''}"/>
														<p:commandButton icon="test" update="turnoverPerCustomerWidget" action="#{bean.setQuadrimesterIdx(8, 11)}" styleClass="dot #{bean.quadrimesterStartIdx eq 8 ? 'selected' : ''}"/>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</h:panelGroup>
						</div>
					</div>
				</div>
				
				<!-- FATTURE TAB -->
				<div id="content_tab2" class="hide" style="display: none;">
					<div class="p-grid">
		                <div class="p-col-12 p-md-12">
		                    <div class="card" style="border: none !important; padding-top:0px; padding-bottom:0px; margin-top:10px;">
		                        <div class="p-grid">
		                            <div class="p-col-3">
		                                <div class="p-formgroup-inline">
		                                    <div class="p-field">
		                                        <p:commandButton value="#{msg.billingListCreateInvoice}"
		                                                         actionListener="#{bean.createNewMail}" update="@form" styleClass="ui-button-success p-mr-2 p-mb-2"/>
		                                    </div>
		                                </div>
		                            </div>
		                            <div class="p-col-9">
		                                <div class="p-formgroup-inline alignEnd">
		                                    <div class="p-field">
		                                        <p:inputText id="filterInvoiceNumber" value="#{bean.filterInvoiceNumber}" placeholder="#{msg.billingListNumber}"/>
		                                    </div>
		                                    
		                                    <p:selectOneMenu id="filterClient" value="#{bean.selectedClientId}" style="margin-right: 20px;"
															 styleClass="#{bean.selectedClientId ne null ? 'select-one-menu' : ''}">
												<f:selectItem itemLabel="#{ff:upper(msg.billingListClient)}" itemValue="#{null}" noSelectionOption="true" />
												<f:selectItems value="#{bean.clients}" />
												<p:ajax event="itemSelect" update="@this" />
											</p:selectOneMenu>
											
		                                    <div class="p-field">
		                                        <p:commandButton id="cercaButton" onclick="filterTableFromPanel();"
		                                                    styleClass="ui-button-warning-icon" update="searchPanel" icon="ui-icon ui-icon-search pi pi-search"/>
		                                    </div>
		                                    <p:commandButton id="settingButton" onclick="resetData(); PF('panelSetting').toggle()" type="button"
		                                                   styleClass="ui-button-warning-icon"  icon="ui-icon ui-icon-search pi pi-sliders-h"/>
		                                    <p:panel id="settingPanel" widgetVar="panelSetting" closable="true" toggleable="true" collapsed="true">
		                                        <div class="p-grid">
		                                            <div class="p-col-12" style="text-align: center;">
		                                                <h2>Filtra per</h2>
		                                            </div>
		                                            <div class="p-col-12">
                                                		<div style="">
                                                    		<h:outputText style="color: #003871;"
                                                                  	value="#{ff:upper(msg.billingListDate)}:"/>
                                                		</div>
                                            		</div>
                                            		<div class="p-col-6">
		                                                <p:calendar id="filterDateFrom" readonlyInput="false"
		                                                            showOn="button"
		                                                            onkeypress="if(!searchOnEnter(event, 'searchButton')) return true;"
		                                                            pattern="dd/MM/yyyy" mask="true" locale="it"
		                                                            navigator="true"
		                                                            popupIconOnly="true"
		                                                            onblur="setTimeout(function(){checkDates();}, 500);check_date(this);"
		                                                            value="#{bean.dateFrom}"
		                                                            placeholder="#{msg.billingListDateFrom}" 
		                                                            styleClass="#{bean.dateFrom ne null ? 'calender-filled' : ''}">
		                                                    <p:ajax event="dateSelect" update="@this" />
		                                                </p:calendar>
		                                                <div id="hyphen"></div>
		                                            </div>
		                                            <div class="p-col-6">
		                                                <p:calendar id="filterDateTo" readonlyInput="false" showOn="button"
		                                                            onkeypress="if(!searchOnEnter(event, 'searchButton')) return false;"
		                                                            pattern="dd/MM/yyyy" mask="true"
		                                                            locale="it" navigator="true" popupIconOnly="true"
		                                                            placeholder="#{msg.billingListDateTo}"
		                                                            onblur="check_date(this)" value="#{bean.dateTo}" 
		                                                            styleClass="#{bean.dateTo ne null ? 'calender-filled' : ''}">
		                                                    <p:ajax event="dateSelect" update="@this" />
		                                                </p:calendar>
		                                            </div>
		                                            <div class="p-col-6">
		                                                <p:selectOneMenu id="manager" value="#{bean.managerClientFilterid}"
		                                                                 style="width: 100%;" 
		                                                                 styleClass="#{bean.managerClientFilterid ne null ? 'select-one-menu' : ''}">
		                                                    <f:selectItem itemLabel="#{ff:upper(msg.clientManager)}"
		                                                                  itemValue="#{null}"
		                                                                  noSelectionOption="true"/>
		                                                    <f:selectItems value="#{bean.managerClients}"/>
		                                                    <p:ajax event="itemSelect" update="@this"/>
		                                                </p:selectOneMenu>
		                                            </div>
		                                            <div class="p-col-6">
		                                                <p:selectOneMenu id="office" value="#{bean.aggregationFilterId}"
		                                                                 style="width: 100%;" 
		                                                                 styleClass="#{bean.aggregationFilterId ne null ? 'select-one-menu' : ''}">
		                                                    <f:selectItem itemLabel="#{msg.subjectViewFormalityConservatoryCap}"
		                                                                  itemValue="#{null}"
		                                                                  noSelectionOption="true"/>
		                                                    <f:selectItems value="#{bean.landAggregations}"/>
		                                                    <p:ajax event="itemSelect" update="@this"/>
		                                                </p:selectOneMenu>
		                                            </div>
		                                            <div class="p-col-6">
		                                            	<p:inputText id="filterNotes" value="#{bean.filterNotes}" 
		                                            					placeholder="#{msg.billingListNotes}" styleClass="input-width-100"/>
		                                            </div>
		                                            <div class="p-col-6">
		                                            	<p:inputText id="filterNdg" value="#{bean.filterNdg}" 
		                                            					placeholder="#{msg.billingListNdg}" styleClass="input-width-100"/>
		                                            </div>
		                                            <div class="p-col-6">
		                                            	<p:inputText id="filterPractice" value="#{bean.filterPractice}" 
		                                            					placeholder="#{msg.billingListPractice}" styleClass="input-width-100"/>
		                                            </div>
		                                            
		                                            <div class="p-col-12 search-panel-btns" style="text-align: center;">
		                                                <p:commandButton value="#{ff:upper(msg.requestPrintSelectTemplate)}" style="background: #00CC52;" id="searchButton"
		                                                                 onclick="checkDates(); filterTableFromPanel();" update="searchPanel" 
		                                                                 oncomplete="PF('panelSetting').toggle()"/>
		                                                <p:commandButton id="manageReestablishBtn" value="#{ff:upper(msg.mailManageReestablish)}" 
		                                                				actionListener="#{bean.clearFiltraPanel}" update="settingPanel" 
		                                                				oncomplete="PF('panelSetting').toggle()"/>
		                                            </div>
		                                        </div>
		                                    </p:panel> 
		                                </div>
		                            </div>
		                            <div class="p-col-12">
		                            	<p:commandButton value="#{msg.billingListExcel}" style="float: right"/>
		                            </div>
		                        </div>
		                    </div>
		                </div>
		            </div>
				
					<p:panel id="table_div">
                		<ui:fragment id="searchPanel">
                    		<div class="button_group">
                        		<p:remoteCommand name="filterTableFromPanel" action="#{bean.filterTableFromPanel}"
                                         	update=":invoiceTable"/>
                                <p:remoteCommand name="updateCalendarTo" update=":form:filterDateTo"/>
                                <p:remoteCommand name="resetTableData"
                         			action="#{bean.reset}" update=":invoiceTable"/>
            					
                            </div>
                        </ui:fragment>
				
						<p:dataTable id="invoiceTable" value="#{bean.lazyModel}" emptyMessage="#{msg.noRecordsFound}"
							var="invoice" rows="10" lazy="true"
							paginator="true" paginatorAlwaysVisible="true" rowIndexVar="rowId"
							paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
							rowsPerPageTemplate="10,20,50">
							<p:column headerText="#{msg.billingListNumber}" sortBy="#{invoice.number}">
	                        	<h:outputText value="#{invoice.number}"/>
	                    	</p:column>
	                    	<p:column headerText="#{msg.billingListDate}" sortBy="#{invoice.dateString}">
	                        	<h:outputText value="#{invoice.dateString}"/>
	                    	</p:column>
	                    	<p:column headerText="#{msg.billingListClient}" sortBy="#{invoice.client.nameOfTheCompany}">
	                        	<h:outputText value="#{invoice.client.nameOfTheCompany}"/>
	                    	</p:column>
	                    	<p:column headerText="#{msg.billingListNotes}" sortBy="#{invoice.notes}">
	                        	<h:outputText value="#{invoice.notes}"/>
	                    	</p:column>
	                    	<p:column headerText="#{msg.billingListStatus}">
	                    		<p:commandButton value="#{invoice.status.toString()}" style="width: 142px;"
	                    		 			styleClass="#{invoice.status.getId() == 1 ? 'orange-button' : (invoice.status.getId() == 3 ? 'green-button' : (invoice.status.getId() == 4 ? 'red-button' : 'button'))  }">
	                    		</p:commandButton>
	                    	</p:column>
	                    	<p:column headerText="#{msg.billingListAmount}" sortBy="#{invoice.totalAmount}">
	                        	<h:outputText value="#{invoice.totalAmount}"/>
	                    	</p:column>
	                    	<p:column headerText="#{msg.billingListOnBalance}" sortBy="#{invoice.onBalance}">
	                        	<h:outputText value="#{invoice.onBalance}"/>
	                    	</p:column>
	                    	<p:column rendered="#{invoice.email.id == null}">
	                    		<i class="email-icon-new"></i>
	                    	</p:column>
	                    	<p:column rendered="#{invoice.email.id != null}">
	                    		<i class="email-icon-new"></i>
	                    		<i class="correct-email-icon" style="position: relative; margin-left: 11%; margin-top: -31%;"></i>
	                    	</p:column>
						</p:dataTable>
					</p:panel>
				</div>
				<!-- FATTURE TAB -->
				<div id="content_tab3" class="hide" style="display: none;">Content area3</div>
				<div id="content_tab4" class="hide" style="display: none;">Content area4</div>
			</main>
		</div>
		<script>
			$(".tab").on("click", function(event) {
				var elementId = event.target.id;
				console.log(elementId);
				$(".tab").removeClass("selected");
				$('#' + elementId).addClass("selected");
				$(".hide").hide();
				$("#content_" + elementId).show();
			});
			
			function checkDates() {
                var dateFrom = $('#filterDateFrom_input').val();
                var dateTo = $('#filterDateTo_input').val();

                var dFrom = new Date(dateFrom.substring(6) + '-'
                    + dateFrom.substring(3, 5) + '-'
                    + dateFrom.substring(0, 2));
                var dTo = new Date(dateTo.substring(6) + '-'
                    + dateTo.substring(3, 5) + '-' + dateTo.substring(0, 2));

                if (dFrom > dTo) {
                    $('#filterDateTo_input').val(
                        $('#filterDateFrom_input').val());
                    updateCalendarTo();
                }
            }
			
			function resetData() {
            	$("#filterDateFrom_input").val("");
            	$("#filterDateTo_input").val("");
            	$("#manager_label").text("#{ff:upper(msg.clientManager)}");
            	$("#office_label").text("#{msg.subjectViewFormalityConservatoryCap}");
            	$("#filterNotes").val("");
            	$("#filterNdg").val("");
            	$("#filterPractice").val("");
            	resetTableData();
            	return true;
            }
		</script>
	</ui:define>
</ui:composition>
</html>