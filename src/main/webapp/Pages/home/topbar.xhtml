<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui">

    <div class="layout-topbar">
        <h:link id="toplogolink" outcome="/dashboard" styleClass="layout-topbar-logo">
            <p:graphicImage name="images/#{guestPreferences.darkLogo ? 'logo-black.png' : 'logo-white.png'}"
                library="babylon-layout" />
        </h:link>

        <a class="layout-menu-button" href="#">
            <i class="pi pi-bars" />
        </a>

        <a id="topbar-menu-button" href="#">
            <i class="pi pi-ellipsis-v" />
        </a>

        <ul class="topbar-menu fadeInDown">
            <li>
                <a href="#{facesContext.externalContext.requestContextPath}/j_spring_security_logout">
                    <i class="topbar-icon fa fa-fw fa-sign-out"/>
                </a>
            </li>
            <ui:fragment id="topbarProfile">
                <li class="user-profile">
                    <a href="#{facesContext.externalContext.requestContextPath}/Pages/Configuration/UserProfileView.jsf">
                        <p:graphicImage styleClass="profileImg" rendered="#{not empty sessionBean.currentUser.photo}" value="#{sessionBean.currentUser.photo}" width="35" />
                        <ui:fragment rendered="#{empty sessionBean.currentUser.photo}">
                            <i class="topbar-icon fa fa-fw fa-user-circle"/>
                        </ui:fragment>
                    </a>
                </li>
            </ui:fragment>
            <ui:fragment id="currentCal">
                <li>
                    <p:calendar id="currentDay" readonlyInput="false" showOn="button"
                                onkeypress="if(!searchOnEnter(event, 'searchButton')) return true;"
                                pattern="dd/MM/yyyy" mask="true"
                                locale="it" navigator="false" styleClass="only-date-icon"/>
                </li>
            </ui:fragment>
            <ui:fragment rendered="#{sessionBean.canViewPage('APPLICATION_SETTINGS')}">
                <li>
                    <a href="#{facesContext.externalContext.requestContextPath}/configuration/application_settings_edit/">
                        <i class="topbar-icon pi pi-cog"/>
                        <span class="topbar-item-name">Settings</span>
                    </a>
                </li>
            </ui:fragment>
        </ul>
    </div>
</ui:composition>
